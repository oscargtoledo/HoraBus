(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{327:function(e,t,n){"use strict";(function(e){var r,a=n(352),o=n(7),c=a.a.manifest.releaseChannel;"web"==o.a.OS?r="https://buschedule-api.herokuapp.com":void 0===c?r=e&&Object({NODE_ENV:"production",PUBLIC_URL:"/HoraBus",APP_MANIFEST:{name:"HoraBus",slug:"HoraBus",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},description:"",_internal:{isDebug:!1,projectRoot:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App",dynamicConfigPath:null,staticConfigPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\app.json",packageJsonPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"]}})&&Object({NODE_ENV:"production",PUBLIC_URL:"/HoraBus",APP_MANIFEST:{name:"HoraBus",slug:"HoraBus",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},description:"",_internal:{isDebug:!1,projectRoot:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App",dynamicConfigPath:null,staticConfigPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\app.json",packageJsonPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"]}}).API_URL||"http://192.168.0.14:8080":-1!==c.indexOf("production")&&(r=e&&Object({NODE_ENV:"production",PUBLIC_URL:"/HoraBus",APP_MANIFEST:{name:"HoraBus",slug:"HoraBus",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},description:"",_internal:{isDebug:!1,projectRoot:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App",dynamicConfigPath:null,staticConfigPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\app.json",packageJsonPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"]}})&&Object({NODE_ENV:"production",PUBLIC_URL:"/HoraBus",APP_MANIFEST:{name:"HoraBus",slug:"HoraBus",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},description:"",_internal:{isDebug:!1,projectRoot:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App",dynamicConfigPath:null,staticConfigPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\app.json",packageJsonPath:"D:\\Documents\\Coding\\Buschedule\\Buschedule-App\\package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"]}}).PRODUCTION_API_URL||"https://buschedule-api.herokuapp.com"),t.a={API_URL:r}}).call(this,n(33))},347:function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(8),c=n.n(o),l=n(123),i=n(249),s=n(288),u=n(120),d=n(192),f=n(448),p=n(0),m=n.n(p),g=n(267),h=n(145),b=(n(122),n(36)),y=n(5),v=n(218),O=(n(372),n(3)),E=n(37),C=n(451),j=n(445),w=n(197),x=n(444),D=m.a.createContext(),P=D;function k(){var e=Object(p.useContext)(P),t=e.isThemeDark,n=e.setIsThemeDark,r=e.isHidingUnselected,a=e.setHideUnselected;return{isThemeDark:t,setIsThemeDark:n,toggleTheme:function(){return n(!t)},isHidingUnselected:r,setHideUnselected:a,toggleHideSelected:function(){return a(!r)}}}function S(e){var t=Object(E.b)(),n=k(),r=n.isThemeDark,a=n.toggleTheme;return m.a.createElement(O.a,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}},m.a.createElement(w.a,{style:{color:null==t?void 0:t.colors.text}},"Dark Mode"),m.a.createElement(x.a,{onValueChange:function(){return a()},color:"red",value:r}))}var B=function(){var e=Object(E.b)(),t=k(),n=(t.isThemeDark,t.toggleTheme,t.isHidingUnselected),r=t.toggleHideSelected,o=m.a.useState(!1),c=a()(o,2),l=c[0],i=c[1],s=m.a.createElement(C.a,{mode:"contained",onPress:function(){return i(!0)},icon:"dots-vertical"});return m.a.createElement(O.a,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}},m.a.createElement(j.a,{visible:l,onDismiss:function(){return i(!1)},anchor:s,statusBarHeight:60},m.a.createElement(S,null),m.a.createElement(O.a,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}},m.a.createElement(w.a,{style:{color:null==e?void 0:e.colors.text}},"Filter Mode"),m.a.createElement(x.a,{onValueChange:function(){return r()},color:"red",value:n}))))},A=(y.a.create({center:{flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"}}),y.a.create({center:{flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"}}),y.a.create({center:{flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"}})),T=function(){return m.a.createElement(O.a,{style:A.center},m.a.createElement(b.a,null,"This is the contact screen"))},I=n(17),R=n.n(I),H=n(125),N=n(39),U=n(446),_=n(328),L=n(326),V=n.n(L),z=n(327),F=V.a.create({baseURL:z.a.API_URL,timeout:4e3}),G={get:F.get,post:F.post,delete:F.delete,put:F.put,patch:F.patch};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}y.a.create({center:{flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"}});var W=function(e){var t=e.navigation,n=(Object(E.b)(),Object(p.useState)([])),r=a()(n,2),o=r[0],c=r[1],l=Object(p.useState)(!1),i=a()(l,2),s=i[0],u=i[1],d=function(){var e,t;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.awrap(G.get("/schedules/names"));case 3:e=n.sent,t=e.data,c(t),console.log(t),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),console.log(J({},n.t0));case 13:case"end":return n.stop()}}),null,null,[[0,9]],Promise)},f=function(){d(),u(!1)};return Object(p.useEffect)((function(){d()}),[]),m.a.createElement(v.a,{style:{flexGrow:1,flexDirection:"column"}},m.a.createElement(N.a,{refreshControl:m.a.createElement(H.a,{refreshing:s,onRefresh:f}),contentContainerStyle:{flex:1,flexDirection:"column",padding:10}},m.a.createElement(U.a,{mode:"contained",style:{margin:2},onPress:function(){return f()}},"Refresh"),s?m.a.createElement(_.a,{size:"large"}):o.map((function(e,n){return m.a.createElement(U.a,{key:e._id,mode:"contained",onPress:function(){return t.navigate("Schedule Viewer",{routeId:e._id,routeName:e.routeName})},style:{margin:2}},e.routeName)}))))},Z=n(18),q=n.n(Z),K=n(9),Q=n.n(K),X=n(10),Y=n.n(X),$=n(11),ee=n.n($),te=n(13),ne=n.n(te),re=n(2),ae=n.n(re),oe=n(27),ce=n(12),le=n(79),ie=(n(415),n(217));function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae()(e);if(t){var a=ae()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne()(this,n)}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(419);var fe=function(e){var t=e.item,n=e.index,r=e.selected,a=e.extraStyle,o=void 0!==a&&a,c=e.stopName,l=Object(E.b)(),i=k(),s=i.isHidingUnselected;i.toggleHideSelected;return m.a.createElement(v.a,{style:[{flex:1,textAlign:"center",shadowOpacity:0,backgroundColor:"yellow",flexDirection:"column"},[o?{flexBasis:100,flexGrow:0,flexShrink:0,flex:0}:{}]]},null!=c&&m.a.createElement(w.a,{style:[{backgroundColor:null==l?void 0:l.colors.surface,flex:1,flexDirection:"row",textAlignVertical:"center",textAlign:"center",height:40,textAlignVertical:"center"}]},c),t.map((function(e,t){return m.a.createElement(w.a,{key:10*n+t,style:[de(de({},me.tableElement),{},{textAlign:"center",padding:10,alignContent:"center"}),s?t%2?{backgroundColor:null==l?void 0:l.colors.primaryLight}:{backgroundColor:null==l?void 0:l.colors.primary}:r?{backgroundColor:null==l?void 0:l.colors.columnAccent}:t%2?{backgroundColor:null==l?void 0:l.colors.primaryLight}:{backgroundColor:null==l?void 0:l.colors.primary}]},""!=e?e:"-")})))},pe=function(e){ee()(n,e);var t=se(n);function n(e){var r;return Q()(this,n),(r=t.call(this,e)).scale=new ce.a.Value(1),r.onZoomEvent=ce.a.event([{nativeEvent:{scale:r.scale}}],{useNativeDriver:!0}),r.onZoomStateChange=function(e){e.nativeEvent.oldState===ie.b.ACTIVE&&ce.a.spring(r.scale,{toValue:1,useNativeDriver:!0}).start()},r.state={schedule:null,selectedColumn:null,scheduleScale:1,selectedColumns:[]},r}return Y()(n,[{key:"componentDidMount",value:function(){var e=this;this.retrieveSchedule().then((function(t){e.setState({schedule:t[0]})}))}},{key:"retrieveSchedule",value:function(){var e,t,n;return R.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.props.route.params.routeId,r.next=4,R.a.awrap(G.get("/schedules/"+e));case 4:return t=r.sent,n=t.data,r.abrupt("return",n);case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),null,this,[[0,9]],Promise)}},{key:"componentDidUpdate",value:function(){console.log(this.state.selectedColumns)}},{key:"selectColumn",value:function(e){console.log("Selected "+e);var t=this.state.selectedColumns.indexOf(e);if(console.log("index = "+t),-1!==t){var n=this.state.selectedColumns;n.splice(t,1),console.log("temp = "+n),this.setState((function(e){return{selectedColumns:n}}))}else this.setState((function(t){return{selectedColumns:[].concat(q()(t.selectedColumns),[e])}}))}},{key:"regularSchedule",value:function(){var e=this,t=this.props.theme,n=this.state.schedule;return m.a.createElement(O.a,{style:{flex:1}},m.a.createElement(N.a,{horizontal:!0,contentContainerStyle:{flexGrow:1,alignContent:"center"}},m.a.createElement(O.a,{style:{flex:1},id:"horizontalContainer"},m.a.createElement(O.a,{id:"stopNameRow",style:{flex:1,flexDirection:"row",justifyContent:"space-between"}},n.stops.map((function(n,r){return m.a.createElement(le.a,{activeOpacity:1,onPress:function(){return e.selectColumn(r)},style:[{flex:1,flexGrow:1,flexShrink:1,flexBasis:0,flexWrap:"wrap",padding:3,justifyContent:"center",alignItems:"center"},e.state.selectedColumns.includes(r)?{backgroundColor:null==t?void 0:t.colors.columnAccent}:{}],key:r},m.a.createElement(w.a,{style:{textAlign:"center"}},n))}))),m.a.createElement(O.a,{style:{flex:10}},m.a.createElement(N.a,{style:{},showsVerticalScrollIndicator:!1,contentContainerStyle:{height:0,flexDirection:"row"}},n.hours.map((function(t,n){return m.a.createElement(fe,{key:n,index:n,item:t,selected:e.state.selectedColumns.includes(n)})})))))))}},{key:"filteringSchedule",value:function(){var e=this,t=this.props.theme,n=this.state.schedule;return m.a.createElement(O.a,{style:{flex:1}},m.a.createElement(O.a,{style:{flex:1}},m.a.createElement(N.a,{horizontal:!0,contentContainerStyle:{flexGrow:1,alignContent:"center"}},n.stops.map((function(n,r){return m.a.createElement(le.a,{activeOpacity:1,onPress:function(){return e.selectColumn(r)},style:[{flex:1,flexGrow:1,flexShrink:1,flexBasis:0,flexWrap:"wrap",padding:3,justifyContent:"center",alignItems:"center"},e.state.selectedColumns.includes(r)?{backgroundColor:null==t?void 0:t.colors.columnAccent}:{}],key:r},m.a.createElement(w.a,{style:{textAlign:"center"}},n))})))),m.a.createElement(O.a,{style:{flex:10,flexGrow:1}},m.a.createElement(N.a,{contentContainerStyle:{flexGrow:1}},m.a.createElement(O.a,{style:{flexGrow:1}},m.a.createElement(N.a,{horizontal:!0,contentContainerStyle:{flex:1,flexGrow:1,flexDirection:"row",flexWrap:"nowrap"}},n.hours.map((function(t,r){if(e.state.selectedColumns.includes(r))return m.a.createElement(fe,{key:r,index:r,item:t,extraStyle:!0,stopName:n.stops[r],selected:e.state.selectedColumns.includes(r)})})))))))}},{key:"render",value:function(){var e=this,t=null===this.state.schedule,n=this.props.theme;oe.a.get("window").height;return m.a.createElement(v.a,{style:{flex:1}},t?m.a.createElement(_.a,{size:"large"}):m.a.createElement(v.a,{style:{flex:1,justifyContent:"center"}},m.a.createElement(v.a,{style:{backgroundColor:null==n?void 0:n.colors.primaryDark,alignContent:"center"}},m.a.createElement(w.a,{style:{textAlign:"center",fontSize:20}},this.state.schedule.routeName)),m.a.createElement(P.Consumer,null,(function(t){var n=t.isHidingUnselected;t.toggleHideSelected;return n?e.filteringSchedule():e.regularSchedule()}))))}}]),n}(m.a.Component),me=y.a.create({box:{width:50,height:50},tableElement:{width:100},center:{flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"},container:{flex:1,padding:18,paddingTop:35,justifyContent:"space-around"},HeadStyle:{height:50,alignContent:"center"},TableText:{flex:1,textAlign:"center",alignSelf:"center",width:100}}),ge=Object(E.c)(pe),he=n(329);var be=Object(E.c)((function(e){var t,n=null==(t=e.theme)?void 0:t.dark,r='<script type="text/javascript" src="https://platform.twitter.com/widgets.js"><\/script><a class="twitter-timeline"'+(n?'data-theme="dark"':"")+'href="https://twitter.com/BusGarraf?ref_src=twsrc%5Etfw">Carregant Twitts...</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script> ';return console.log(n),m.a.createElement(he.WebView,{source:{html:r},javaScriptEnabled:!0})}));function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=Object(g.a)(),Ee=function(){var e;return m.a.createElement(Oe.Navigator,{screenOptions:ve(ve({},h.a.SlideFromRightIOS),{},{headerStyle:{backgroundColor:null==(e=theme)?void 0:e.colors.primary},headerRight:function(){return m.a.createElement(S,null)}})},m.a.createElement(Oe.Screen,{name:"Contact",component:T}))},Ce=function(e){var t=e.navigation,n=Object(E.b)();return m.a.createElement(Oe.Navigator,{screenOptions:ve(ve({},h.a.SlideFromRightIOS),{},{headerStyle:{backgroundColor:null==n?void 0:n.colors.primary},headerRight:function(){return m.a.createElement(B,null)}})},m.a.createElement(Oe.Screen,{name:"View Tweets",component:be,options:{headerRight:function(){return m.a.createElement(S,null)},headerLeft:function(){return m.a.createElement(C.a,{mode:"contained",icon:"menu",onPress:function(){return t.toggleDrawer()}})}}}))},je=function(e){var t=e.navigation,n=Object(E.b)();return m.a.createElement(Oe.Navigator,{screenOptions:ve(ve({},h.a.SlideFromRightIOS),{},{headerStyle:{backgroundColor:null==n?void 0:n.colors.primary},headerRight:function(){return m.a.createElement(B,null)}})},m.a.createElement(Oe.Screen,{name:"Select Schedule",component:W,options:{headerRight:function(){return m.a.createElement(S,null)},headerLeft:function(){return m.a.createElement(C.a,{mode:"contained",icon:"menu",onPress:function(){return t.toggleDrawer()}})}}}),m.a.createElement(Oe.Screen,{name:"Schedule Viewer",component:ge}))},we=n(450),xe=(Object(we.a)(),n(449)),De=n(174),Pe=Object(xe.a)();function ke(e){var t=e.navigation;return m.a.createElement(ie.a,null,m.a.createElement(U.a,{mode:"contained",onPress:function(){t.navigate("Home")}},"Select Schedule"),m.a.createElement(U.a,{mode:"contained",onPress:function(){t.navigate("TwitterFeed")}},"Twitter Feed"))}var Se=function(){var e=Object(De.a)();Object(E.b)();return m.a.createElement(Pe.Navigator,{drawerType:e.width>=768?"permanent":"front",edgeWidth:25,drawerContent:function(e){return m.a.createElement(ke,e)}},m.a.createElement(Pe.Screen,{name:"Home",component:je}),m.a.createElement(Pe.Screen,{name:"TwitterFeed",component:Ce}),m.a.createElement(Pe.Screen,{name:"Contact",component:Ee}))},Be=(n(435),n(80)),Ae=n(67);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=Ie(Ie(Ie({},u.a),l.a),{},{dark:!1,colors:Ie(Ie(Ie({},u.a.colors),l.a.colors),{},{primary:"#01579b",primaryDark:"#002f6c",primaryLight:"#4f83cc",background:"#01579b",accent:"#3c67a3",columnAccent:"#5390E0",surface:"#01457A",card:"#224C6B",text:"#ffffff"})}),He=Ie(Ie(Ie({},d.a),i.a),{},{dark:!0,colors:Ie(Ie(Ie({},d.a.colors),i.a.colors),{},{background:"#121212",accent:"#424242",primary:"#212121",columnAccent:"#6b6b6b",primary:"#424242",primaryLight:"#6b6b6b"})});t.a=function(){var e=m.a.useState(!1),t=a()(e,2),n=t[0],r=t[1],o=m.a.useState(!1),c=a()(o,2),l=c[0],i=c[1],u=n?He:Re;return Ae.a.addEventListener("hardwareBackPress",(function(){return!0})),m.a.createElement(P.Provider,{value:{isThemeDark:n,setIsThemeDark:r,isHidingUnselected:l,setHideUnselected:i}},m.a.createElement(f.a,{theme:u},m.a.createElement(s.a,{theme:u},m.a.createElement(Be.a,{barStyle:"light-content",backgroundColor:null==u?void 0:u.colors.primaryDark}),m.a.createElement(Se,null))))}},360:function(e,t,n){e.exports=n(438)},372:function(e,t){},429:function(e,t){}},[[360,1,2]]]);
//# sourceMappingURL=app.a96b527d.chunk.js.map